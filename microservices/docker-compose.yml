version: '3.1'

services:
    api-gateway:
      image: devluis27/api-gateway:latest
      ports:
        - "80:8090"
      environment:
        - SPRING_PROFILES_ACTIVE=prod
        - AUTH_ENABLED=false
      depends_on:
        - eureka-server
      networks:
        - sprintapp

    gestao-service:
      image: devluis27/gestao-service-prod
      environment:
        - SPRING_PROFILES_ACTIVE=prod
      depends_on:
        - eureka-server
      networks:
        - sprintapp

    eureka-server:
      image: devluis27/eureka-server:latest
      ports:
        - "8761:8761"
      networks:
        - sprintapp
    
networks:
  sprintapp: 
    driver : bridge